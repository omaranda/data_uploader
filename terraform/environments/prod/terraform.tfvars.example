# Copyright 2025 Omar Miranda
# SPDX-License-Identifier: Apache-2.0

# Production Environment Variables
# Copy this file to terraform.tfvars and fill in your values

# AWS Configuration
aws_region = "us-east-1"

# VPC Configuration (default values shown, customize if needed)
# vpc_cidr = "10.0.0.0/16"
# availability_zones = ["us-east-1a", "us-east-1b"]
# public_subnet_cidrs = ["10.0.1.0/24", "10.0.2.0/24"]
# private_subnet_cidrs = ["10.0.10.0/24", "10.0.11.0/24"]

# ECS Docker Images (REQUIRED - replace with your ECR repository URLs)
frontend_image = "123456789012.dkr.ecr.us-east-1.amazonaws.com/data-uploader-frontend:latest"
backend_image  = "123456789012.dkr.ecr.us-east-1.amazonaws.com/data-uploader-backend:latest"
worker_image   = "123456789012.dkr.ecr.us-east-1.amazonaws.com/data-uploader-backend:latest"

# ECS Task Configuration
frontend_cpu           = 512
frontend_memory        = 1024
frontend_desired_count = 2

backend_cpu           = 1024
backend_memory        = 2048
backend_desired_count = 2

worker_cpu           = 512
worker_memory        = 1024
worker_desired_count = 1

# Database Configuration
db_name                  = "uploader"
db_username              = "uploader"
db_instance_class        = "db.t3.small"  # Production: db.r6g.large or higher
db_allocated_storage     = 20
db_multi_az              = true           # High availability
db_backup_retention_days = 7

# Redis Configuration (set to false if only using browser uploads)
enable_redis    = true
redis_node_type = "cache.t3.micro"  # Production: cache.r6g.large or higher
redis_num_nodes = 1

# S3 Configuration
upload_bucket_prefix = "data-uploader-uploads"

# HTTPS Configuration (optional - configure after setting up ACM certificate)
# certificate_arn = "arn:aws:acm:us-east-1:123456789012:certificate/xxxxx"
# domain_name = "uploads.yourdomain.com"

# Tags
tags = {
  Project     = "DataUploader"
  Environment = "Production"
  ManagedBy   = "Terraform"
  Owner       = "YourName"
}
